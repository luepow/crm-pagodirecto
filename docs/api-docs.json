{"openapi":"3.0.1","info":{"title":"CRM/ERP API","description":"Enterprise CRM/ERP System API Documentation","contact":{"name":"Development Team","email":"dev@empresa.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:28080","description":"Generated server url"}],"security":[{"bearer-jwt":[]}],"tags":[{"name":"Cuentas","description":"Accounts payable/receivable management endpoints"},{"name":"Ventas","description":"Sales management endpoints"},{"name":"Reportes","description":"Endpoints para reportes y análisis"},{"name":"Clientes","description":"Customer/Client management endpoints"},{"name":"Authentication","description":"Authentication endpoints"},{"name":"Pagos","description":"Payment management endpoints"}],"paths":{"/api/v1/productos/{id}":{"get":{"tags":["producto-controller"],"operationId":"getProductoById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}},"put":{"tags":["producto-controller"],"operationId":"updateProducto","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActualizarProductoRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}},"delete":{"tags":["producto-controller"],"operationId":"deleteProducto","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/clientes/{id}":{"get":{"tags":["Clientes"],"summary":"Get cliente by ID","description":"Get detailed information about a specific cliente","operationId":"obtener_3","parameters":[{"name":"id","in":"path","description":"Cliente ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Cliente not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"200":{"description":"Successfully retrieved cliente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}}},"security":[{"bearer-jwt":[]}]},"put":{"tags":["Clientes"],"summary":"Update cliente","description":"Update an existing cliente. Requires ADMIN or MANAGER role.","operationId":"actualizar","parameters":[{"name":"id","in":"path","description":"Cliente ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActualizarClienteRequest"}}},"required":true},"responses":{"404":{"description":"Cliente not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"409":{"description":"Email already in use by another cliente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or MANAGER role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"200":{"description":"Cliente updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["Clientes"],"summary":"Delete cliente","description":"Soft delete a cliente (sets deleted_at timestamp). Requires ADMIN role.","operationId":"eliminar_3","parameters":[{"name":"id","in":"path","description":"Cliente ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden - Requires ADMIN role"},"404":{"description":"Cliente not found"},"204":{"description":"Cliente deleted successfully"},"401":{"description":"Unauthorized"}},"security":[{"bearer-jwt":[]}]}},"/api/v1/categorias/{id}":{"get":{"tags":["categoria-producto-controller"],"operationId":"getCategoriaById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}},"put":{"tags":["categoria-producto-controller"],"operationId":"updateCategoria","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActualizarCategoriaRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}},"delete":{"tags":["categoria-producto-controller"],"operationId":"deleteCategoria","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/ventas":{"get":{"tags":["Ventas"],"summary":"List all ventas","description":"Get paginated list of all ventas with optional search functionality","operationId":"listar","parameters":[{"name":"search","in":"query","description":"Search term for folio, cliente, or estado","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["Ventas"],"summary":"Create new venta","description":"Create a new venta with detalles. Requires ADMIN or MANAGER role.","operationId":"crear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearVentaRequest"}}},"required":true},"responses":{"404":{"description":"Cliente or Producto not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or MANAGER role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"201":{"description":"Venta created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/productos":{"get":{"tags":["producto-controller"],"operationId":"getAllProductos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"post":{"tags":["producto-controller"],"operationId":"createProducto","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearProductoRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"/api/v1/pagos":{"get":{"tags":["Pagos"],"summary":"List all pagos","description":"Get paginated list of all pagos with optional search functionality. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"listar_1","parameters":[{"name":"search","in":"query","description":"Search term for folio, referencia, or venta folio","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["Pagos"],"summary":"Create new pago","description":"Create a new pago for a venta. Requires ADMIN or FINANCE role.","operationId":"crear_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearPagoRequest"}}},"required":true},"responses":{"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"201":{"description":"Pago created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas":{"get":{"tags":["Cuentas"],"summary":"List all cuentas","description":"Get paginated list of all cuentas with optional search functionality. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"listar_2","parameters":[{"name":"search","in":"query","description":"Search term for folio, cliente, or descripcion","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["Cuentas"],"summary":"Create new cuenta","description":"Create a new cuenta. Requires ADMIN or FINANCE role.","operationId":"crear_2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearCuentaRequest"}}},"required":true},"responses":{"201":{"description":"Cuenta created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cliente not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/desde-venta/{ventaId}":{"post":{"tags":["Cuentas"],"summary":"Create cuenta from venta","description":"Create a cuenta por cobrar from a venta. Requires ADMIN or FINANCE role.","operationId":"crearDesdeVenta","parameters":[{"name":"ventaId","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Cuenta created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"400":{"description":"Invalid input or cuenta already exists","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/clientes":{"get":{"tags":["Clientes"],"summary":"List all clientes","description":"Get paginated list of all clientes with optional search functionality. Search by nombre, email, or RFC.","operationId":"listar_3","parameters":[{"name":"search","in":"query","description":"Search term for nombre, email, or RFC","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageClienteDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageClienteDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageClienteDTO"}}}}},"security":[{"bearer-jwt":[]}]},"post":{"tags":["Clientes"],"summary":"Create new cliente","description":"Create a new cliente. Requires ADMIN or MANAGER role.","operationId":"crear_3","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearClienteRequest"}}},"required":true},"responses":{"201":{"description":"Cliente created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or MANAGER role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"409":{"description":"Cliente with email already exists","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/categorias":{"get":{"tags":["categoria-producto-controller"],"operationId":"getAllCategorias","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}}},"post":{"tags":["categoria-producto-controller"],"operationId":"createCategoria","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrearCategoriaRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"User login","description":"Authenticate user and return JWT token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/ventas/{id}/estado":{"patch":{"tags":["Ventas"],"summary":"Update venta estado","description":"Update the estado of a venta. Requires ADMIN or MANAGER role.","operationId":"actualizarEstado","parameters":[{"name":"id","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActualizarEstadoVentaRequest"}}},"required":true},"responses":{"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"200":{"description":"Estado updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"400":{"description":"Invalid estado transition","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or MANAGER role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/ventas/{id}/cancelar":{"patch":{"tags":["Ventas"],"summary":"Cancel venta","description":"Cancel a venta. Requires ADMIN or MANAGER role.","operationId":"cancelar","parameters":[{"name":"id","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"200":{"description":"Venta cancelled successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"400":{"description":"Cannot cancel venta","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or MANAGER role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/productos/{id}/desactivar":{"patch":{"tags":["producto-controller"],"operationId":"desactivarProducto","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"/api/v1/productos/{id}/ajustar-stock":{"patch":{"tags":["producto-controller"],"operationId":"ajustarStock","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AjustarStockRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"/api/v1/productos/{id}/activar":{"patch":{"tags":["producto-controller"],"operationId":"activarProducto","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"/api/v1/pagos/{id}/estado":{"patch":{"tags":["Pagos"],"summary":"Update pago estado","description":"Update the estado of a pago. Requires ADMIN or FINANCE role.","operationId":"actualizarEstado_1","parameters":[{"name":"id","in":"path","description":"Pago ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActualizarEstadoPagoRequest"}}},"required":true},"responses":{"200":{"description":"Estado updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"400":{"description":"Invalid estado transition","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"404":{"description":"Pago not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/{id}/marcar-pagada":{"patch":{"tags":["Cuentas"],"summary":"Mark cuenta as paid","description":"Mark a cuenta as fully paid. Requires ADMIN or FINANCE role.","operationId":"marcarPagada","parameters":[{"name":"id","in":"path","description":"Cuenta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Cannot mark cuenta as paid","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cuenta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"200":{"description":"Cuenta marked as paid successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/{id}/cancelar":{"patch":{"tags":["Cuentas"],"summary":"Cancel cuenta","description":"Cancel a cuenta. Requires ADMIN or FINANCE role.","operationId":"cancelar_1","parameters":[{"name":"id","in":"path","description":"Cuenta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Cuenta cancelled successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cuenta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/{id}/aplicar-pago":{"patch":{"tags":["Cuentas"],"summary":"Apply payment to cuenta","description":"Apply a partial or full payment to a cuenta. Requires ADMIN or FINANCE role.","operationId":"aplicarPago","parameters":[{"name":"id","in":"path","description":"Cuenta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AplicarPagoRequest"}}},"required":true},"responses":{"200":{"description":"Payment applied successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"400":{"description":"Invalid payment amount","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cuenta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden - Requires ADMIN or FINANCE role","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/categorias/{id}/desactivar":{"patch":{"tags":["categoria-producto-controller"],"operationId":"desactivarCategoria","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}}},"/api/v1/categorias/{id}/activar":{"patch":{"tags":["categoria-producto-controller"],"operationId":"activarCategoria","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaProductoDTO"}}}}}}},"/api/v1/ventas/{id}":{"get":{"tags":["Ventas"],"summary":"Get venta by ID","description":"Get detailed information about a specific venta including detalles","operationId":"obtener","parameters":[{"name":"id","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"200":{"description":"Successfully retrieved venta","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["Ventas"],"summary":"Delete venta","description":"Soft delete a venta. Only BORRADOR or CANCELADA ventas can be deleted. Requires ADMIN role.","operationId":"eliminar","parameters":[{"name":"id","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden - Requires ADMIN role"},"404":{"description":"Venta not found"},"204":{"description":"Venta deleted successfully"},"400":{"description":"Cannot delete venta in current estado"},"401":{"description":"Unauthorized"}},"security":[{"bearer-jwt":[]}]}},"/api/v1/ventas/folio/{folio}":{"get":{"tags":["Ventas"],"summary":"Get venta by folio","description":"Get detailed information about a specific venta by folio","operationId":"obtenerPorFolio","parameters":[{"name":"folio","in":"path","description":"Venta folio","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Venta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"200":{"description":"Successfully retrieved venta","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/ventas/fecha-range":{"get":{"tags":["Ventas"],"summary":"Get ventas by fecha range","description":"Get paginated list of ventas within a date range","operationId":"obtenerPorFechaRange","parameters":[{"name":"startDate","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","description":"End date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/ventas/estado/{estado}":{"get":{"tags":["Ventas"],"summary":"Get ventas by estado","description":"Get paginated list of ventas with a specific estado","operationId":"obtenerPorEstado","parameters":[{"name":"estado","in":"path","description":"Estado venta","required":true,"schema":{"type":"string","enum":["BORRADOR","CONFIRMADA","ENVIADA","COMPLETADA","CANCELADA"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/ventas/cliente/{clienteId}":{"get":{"tags":["Ventas"],"summary":"Get ventas by cliente","description":"Get paginated list of ventas for a specific cliente","operationId":"obtenerPorCliente","parameters":[{"name":"clienteId","in":"path","description":"Cliente ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageVentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/reportes/ventas/periodo":{"get":{"tags":["Reportes"],"summary":"Reporte de ventas por período","description":"Genera reporte agregado de ventas por fecha","operationId":"reporteVentasPorPeriodo","parameters":[{"name":"fechaInicio","in":"query","description":"Fecha inicio (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"fechaFin","in":"query","description":"Fecha fin (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReporteVentasDTO"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/reportes/productos/stock-bajo":{"get":{"tags":["Reportes"],"summary":"Productos con stock bajo","description":"Lista productos que están por debajo del stock mínimo","operationId":"reporteStockBajo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReporteProductosDTO"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/reportes/productos/mas-vendidos":{"get":{"tags":["Reportes"],"summary":"Productos más vendidos","description":"Lista los productos más vendidos en un período","operationId":"productosMasVendidos","parameters":[{"name":"fechaInicio","in":"query","description":"Fecha inicio (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"fechaFin","in":"query","description":"Fecha fin (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"limit","in":"query","description":"Límite de resultados (default: 10)","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReporteProductosDTO"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/reportes/cuentas/{tipo}":{"get":{"tags":["Reportes"],"summary":"Reporte de cuentas","description":"Reporte de cuentas por cobrar o pagar","operationId":"reporteCuentas","parameters":[{"name":"tipo","in":"path","description":"Tipo de cuenta: COBRAR o PAGAR","required":true,"schema":{"type":"string","enum":["COBRAR","PAGAR"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReporteCuentasDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/productos/stock-bajo":{"get":{"tags":["producto-controller"],"operationId":"getProductosConStockBajo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}}},"/api/v1/productos/codigo/{codigo}":{"get":{"tags":["producto-controller"],"operationId":"getProductoByCodigo","parameters":[{"name":"codigo","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}},"/api/v1/productos/categoria/{categoriaId}":{"get":{"tags":["producto-controller"],"operationId":"getProductosByCategoria","parameters":[{"name":"categoriaId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}}},"/api/v1/productos/buscar":{"get":{"tags":["producto-controller"],"operationId":"searchProductos","parameters":[{"name":"nombre","in":"query","required":false,"schema":{"type":"string"}},{"name":"categoriaId","in":"query","required":false,"schema":{"type":"string","format":"uuid"}},{"name":"activo","in":"query","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}}},"/api/v1/productos/buscar/nombre":{"get":{"tags":["producto-controller"],"operationId":"searchByNombre","parameters":[{"name":"nombre","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoDTO"}}}}}}}},"/api/v1/pagos/{id}":{"get":{"tags":["Pagos"],"summary":"Get pago by ID","description":"Get detailed information about a specific pago. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtener_1","parameters":[{"name":"id","in":"path","description":"Pago ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Successfully retrieved pago","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"404":{"description":"Pago not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["Pagos"],"summary":"Delete pago","description":"Soft delete a pago. Only PENDIENTE or FALLIDO pagos can be deleted. Requires ADMIN role.","operationId":"eliminar_1","parameters":[{"name":"id","in":"path","description":"Pago ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden - Requires ADMIN role"},"204":{"description":"Pago deleted successfully"},"404":{"description":"Pago not found"},"400":{"description":"Cannot delete pago in current estado"},"401":{"description":"Unauthorized"}},"security":[{"bearer-jwt":[]}]}},"/api/v1/pagos/venta/{ventaId}":{"get":{"tags":["Pagos"],"summary":"Get pagos by venta","description":"Get list of pagos for a specific venta. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorVenta","parameters":[{"name":"ventaId","in":"path","description":"Venta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PagoDTO"}}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PagoDTO"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PagoDTO"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/pagos/metodo/{metodoPago}":{"get":{"tags":["Pagos"],"summary":"Get pagos by metodo pago","description":"Get paginated list of pagos with a specific payment method. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorMetodoPago","parameters":[{"name":"metodoPago","in":"path","description":"Metodo pago","required":true,"schema":{"type":"string","enum":["EFECTIVO","TARJETA_CREDITO","TARJETA_DEBITO","TRANSFERENCIA","CHEQUE","OTRO"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/pagos/folio/{folio}":{"get":{"tags":["Pagos"],"summary":"Get pago by folio","description":"Get detailed information about a specific pago by folio. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorFolio_1","parameters":[{"name":"folio","in":"path","description":"Pago folio","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved pago","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"404":{"description":"Pago not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/pagos/fecha-range":{"get":{"tags":["Pagos"],"summary":"Get pagos by fecha range","description":"Get paginated list of pagos within a date range. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorFechaRange_1","parameters":[{"name":"startDate","in":"query","description":"Start date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","description":"End date (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/pagos/estado/{estado}":{"get":{"tags":["Pagos"],"summary":"Get pagos by estado","description":"Get paginated list of pagos with a specific estado. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorEstado_1","parameters":[{"name":"estado","in":"path","description":"Estado pago","required":true,"schema":{"type":"string","enum":["PENDIENTE","COMPLETADO","FALLIDO","REEMBOLSADO"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePagoDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/{id}":{"get":{"tags":["Cuentas"],"summary":"Get cuenta by ID","description":"Get detailed information about a specific cuenta. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtener_2","parameters":[{"name":"id","in":"path","description":"Cuenta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Successfully retrieved cuenta","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cuenta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]},"delete":{"tags":["Cuentas"],"summary":"Delete cuenta","description":"Soft delete a cuenta. Only PENDIENTE or CANCELADO cuentas can be deleted. Requires ADMIN role.","operationId":"eliminar_2","parameters":[{"name":"id","in":"path","description":"Cuenta ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden - Requires ADMIN role"},"204":{"description":"Cuenta deleted successfully"},"404":{"description":"Cuenta not found"},"400":{"description":"Cannot delete cuenta in current estado"},"401":{"description":"Unauthorized"}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/vencidas":{"get":{"tags":["Cuentas"],"summary":"Get cuentas vencidas","description":"Get paginated list of overdue cuentas. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerVencidas","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/vencidas/tipo/{tipo}":{"get":{"tags":["Cuentas"],"summary":"Get cuentas vencidas by tipo","description":"Get paginated list of overdue cuentas filtered by tipo. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerVencidasPorTipo","parameters":[{"name":"tipo","in":"path","description":"Tipo cuenta","required":true,"schema":{"type":"string","enum":["COBRAR","PAGAR"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/tipo/{tipo}":{"get":{"tags":["Cuentas"],"summary":"Get cuentas by tipo","description":"Get paginated list of cuentas with a specific tipo. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorTipo","parameters":[{"name":"tipo","in":"path","description":"Tipo cuenta","required":true,"schema":{"type":"string","enum":["COBRAR","PAGAR"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/referencia/{referenciaTipo}/{referenciaId}":{"get":{"tags":["Cuentas"],"summary":"Get cuentas by referencia","description":"Get list of cuentas for a specific referencia. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorReferencia","parameters":[{"name":"referenciaTipo","in":"path","description":"Referencia tipo","required":true,"schema":{"type":"string"}},{"name":"referenciaId","in":"path","description":"Referencia ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CuentaDTO"}}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/folio/{folio}":{"get":{"tags":["Cuentas"],"summary":"Get cuenta by folio","description":"Get detailed information about a specific cuenta by folio. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorFolio_2","parameters":[{"name":"folio","in":"path","description":"Cuenta folio","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved cuenta","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"404":{"description":"Cuenta not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/estado/{estado}":{"get":{"tags":["Cuentas"],"summary":"Get cuentas by estado","description":"Get paginated list of cuentas with a specific estado. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorEstado_2","parameters":[{"name":"estado","in":"path","description":"Estado cuenta","required":true,"schema":{"type":"string","enum":["PENDIENTE","PAGADO","VENCIDO","CANCELADO"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/cuentas/cliente/{clienteId}":{"get":{"tags":["Cuentas"],"summary":"Get cuentas by cliente","description":"Get paginated list of cuentas for a specific cliente. Requires ADMIN, MANAGER, or FINANCE role.","operationId":"obtenerPorCliente_1","parameters":[{"name":"clienteId","in":"path","description":"Cliente ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"200":{"description":"Successfully retrieved list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCuentaDTO"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/clientes/check-email":{"get":{"tags":["Clientes"],"summary":"Check if email exists","description":"Check if an email is already registered. Useful for validation. Requires ADMIN or MANAGER role.","operationId":"checkEmail","parameters":[{"name":"email","in":"query","description":"Email to check","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Check completed","content":{"*/*":{"schema":{"type":"boolean"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"boolean"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"boolean"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get current user","description":"Get authenticated user information","operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}}},"components":{"schemas":{"ActualizarProductoRequest":{"type":"object","properties":{"codigo":{"maxLength":50,"minLength":1,"pattern":"^[A-Z0-9-]+$","type":"string"},"nombre":{"maxLength":200,"minLength":2,"type":"string"},"descripcion":{"maxLength":1000,"minLength":0,"type":"string"},"categoriaId":{"type":"string","format":"uuid"},"precio":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"costo":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"stock":{"minimum":0,"type":"integer","format":"int32"},"stockMinimo":{"minimum":0,"type":"integer","format":"int32"},"unidadMedida":{"maxLength":20,"minLength":0,"type":"string"},"activo":{"type":"boolean"}}},"CategoriaProductoDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nombre":{"type":"string"},"descripcion":{"type":"string"},"activo":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ProductoDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"codigo":{"type":"string"},"nombre":{"type":"string"},"descripcion":{"type":"string"},"categoria":{"$ref":"#/components/schemas/CategoriaProductoDTO"},"precio":{"type":"number"},"costo":{"type":"number"},"stock":{"type":"integer","format":"int32"},"stockMinimo":{"type":"integer","format":"int32"},"unidadMedida":{"type":"string"},"activo":{"type":"boolean"},"stockBajo":{"type":"boolean"},"margenBeneficio":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string","format":"uuid"},"updatedAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"string","format":"uuid"}}},"ActualizarClienteRequest":{"required":["email","nombre"],"type":"object","properties":{"nombre":{"maxLength":200,"minLength":0,"type":"string"},"email":{"maxLength":150,"minLength":0,"type":"string"},"telefono":{"maxLength":20,"minLength":0,"type":"string"},"direccion":{"type":"string"},"ciudad":{"maxLength":100,"minLength":0,"type":"string"},"pais":{"maxLength":100,"minLength":0,"type":"string"},"codigoPostal":{"maxLength":20,"minLength":0,"type":"string"},"rfc":{"maxLength":20,"minLength":0,"type":"string"}}},"ClienteDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"email":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"ciudad":{"type":"string"},"pais":{"type":"string"},"codigoPostal":{"type":"string"},"rfc":{"type":"string"},"activo":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"updatedAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"integer","format":"int64"}}},"ActualizarCategoriaRequest":{"type":"object","properties":{"nombre":{"maxLength":100,"minLength":2,"type":"string"},"descripcion":{"maxLength":500,"minLength":0,"type":"string"},"activo":{"type":"boolean"}}},"CrearDetalleVentaRequest":{"required":["cantidad","precioUnitario","productoId"],"type":"object","properties":{"productoId":{"type":"string","format":"uuid"},"cantidad":{"minimum":1,"type":"integer","format":"int32"},"precioUnitario":{"minimum":0,"type":"number"},"descuento":{"type":"number"}}},"CrearVentaRequest":{"required":["clienteId","detalles","fechaVenta"],"type":"object","properties":{"clienteId":{"type":"integer","format":"int64"},"fechaVenta":{"type":"string","format":"date"},"detalles":{"type":"array","items":{"$ref":"#/components/schemas/CrearDetalleVentaRequest"}},"descuento":{"type":"number"},"impuestos":{"type":"number"},"notas":{"type":"string"}}},"DetalleVentaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"productoId":{"type":"string","format":"uuid"},"productoNombre":{"type":"string"},"productoCodigo":{"type":"string"},"cantidad":{"type":"integer","format":"int32"},"precioUnitario":{"type":"number"},"descuento":{"type":"number"},"subtotal":{"type":"number"}}},"VentaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"folio":{"type":"string"},"cliente":{"$ref":"#/components/schemas/ClienteDTO"},"fechaVenta":{"type":"string","format":"date"},"estado":{"type":"string","enum":["BORRADOR","CONFIRMADA","ENVIADA","COMPLETADA","CANCELADA"]},"subtotal":{"type":"number"},"descuento":{"type":"number"},"impuestos":{"type":"number"},"total":{"type":"number"},"notas":{"type":"string"},"detalles":{"type":"array","items":{"$ref":"#/components/schemas/DetalleVentaDTO"}},"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"updatedAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"integer","format":"int64"}}},"CrearProductoRequest":{"required":["categoriaId","codigo","costo","nombre","precio","stock","stockMinimo","unidadMedida"],"type":"object","properties":{"codigo":{"maxLength":50,"minLength":1,"pattern":"^[A-Z0-9-]+$","type":"string"},"nombre":{"maxLength":200,"minLength":2,"type":"string"},"descripcion":{"maxLength":1000,"minLength":0,"type":"string"},"categoriaId":{"type":"string","format":"uuid"},"precio":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"costo":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"stock":{"minimum":0,"type":"integer","format":"int32"},"stockMinimo":{"minimum":0,"type":"integer","format":"int32"},"unidadMedida":{"maxLength":20,"minLength":0,"type":"string"},"activo":{"type":"boolean"}}},"CrearPagoRequest":{"required":["fechaPago","metodoPago","monto","ventaId"],"type":"object","properties":{"ventaId":{"type":"integer","format":"int64"},"metodoPago":{"type":"string","enum":["EFECTIVO","TARJETA_CREDITO","TARJETA_DEBITO","TRANSFERENCIA","CHEQUE","OTRO"]},"monto":{"minimum":0,"type":"number"},"fechaPago":{"type":"string","format":"date"},"referencia":{"type":"string"},"notas":{"type":"string"}}},"PagoDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"folio":{"type":"string"},"ventaId":{"type":"integer","format":"int64"},"ventaFolio":{"type":"string"},"metodoPago":{"type":"string","enum":["EFECTIVO","TARJETA_CREDITO","TARJETA_DEBITO","TRANSFERENCIA","CHEQUE","OTRO"]},"monto":{"type":"number"},"fechaPago":{"type":"string","format":"date"},"estado":{"type":"string","enum":["PENDIENTE","COMPLETADO","FALLIDO","REEMBOLSADO"]},"referencia":{"type":"string"},"notas":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"updatedAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"integer","format":"int64"}}},"CrearCuentaRequest":{"required":["clienteId","fechaEmision","fechaVencimiento","monto","referenciaId","referenciaTipo","tipo"],"type":"object","properties":{"tipo":{"type":"string","enum":["COBRAR","PAGAR"]},"referenciaTipo":{"type":"string"},"referenciaId":{"type":"integer","format":"int64"},"clienteId":{"type":"integer","format":"int64"},"descripcion":{"type":"string"},"monto":{"minimum":0,"type":"number"},"fechaEmision":{"type":"string","format":"date"},"fechaVencimiento":{"type":"string","format":"date"}}},"CuentaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"folio":{"type":"string"},"tipo":{"type":"string","enum":["COBRAR","PAGAR"]},"referenciaTipo":{"type":"string"},"referenciaId":{"type":"integer","format":"int64"},"cliente":{"$ref":"#/components/schemas/ClienteDTO"},"descripcion":{"type":"string"},"monto":{"type":"number"},"saldo":{"type":"number"},"fechaEmision":{"type":"string","format":"date"},"fechaVencimiento":{"type":"string","format":"date"},"estado":{"type":"string","enum":["PENDIENTE","PAGADO","VENCIDO","CANCELADO"]},"diasVencidos":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"createdBy":{"type":"integer","format":"int64"},"updatedAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"integer","format":"int64"}}},"CrearClienteRequest":{"required":["email","nombre"],"type":"object","properties":{"nombre":{"maxLength":200,"minLength":0,"type":"string"},"email":{"maxLength":150,"minLength":0,"type":"string"},"telefono":{"maxLength":20,"minLength":0,"type":"string"},"direccion":{"type":"string"},"ciudad":{"maxLength":100,"minLength":0,"type":"string"},"pais":{"maxLength":100,"minLength":0,"type":"string"},"codigoPostal":{"maxLength":20,"minLength":0,"type":"string"},"rfc":{"maxLength":20,"minLength":0,"type":"string"}}},"CrearCategoriaRequest":{"required":["nombre"],"type":"object","properties":{"nombre":{"maxLength":100,"minLength":2,"type":"string"},"descripcion":{"maxLength":500,"minLength":0,"type":"string"},"activo":{"type":"boolean"}}},"LoginRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"token":{"type":"string"},"type":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"ActualizarEstadoVentaRequest":{"required":["estado"],"type":"object","properties":{"estado":{"type":"string","enum":["BORRADOR","CONFIRMADA","ENVIADA","COMPLETADA","CANCELADA"]}}},"AjustarStockRequest":{"required":["cantidad"],"type":"object","properties":{"cantidad":{"type":"integer","format":"int32"},"motivo":{"type":"string"}}},"ActualizarEstadoPagoRequest":{"required":["estado"],"type":"object","properties":{"estado":{"type":"string","enum":["PENDIENTE","COMPLETADO","FALLIDO","REEMBOLSADO"]}}},"AplicarPagoRequest":{"required":["montoPago"],"type":"object","properties":{"montoPago":{"minimum":0,"type":"number"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageVentaDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/VentaDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"ReporteVentasDTO":{"type":"object","properties":{"fecha":{"type":"string","format":"date"},"cantidadVentas":{"type":"integer","format":"int64"},"totalVentas":{"type":"number"},"promedioVenta":{"type":"number"}}},"ReporteProductosDTO":{"type":"object","properties":{"productoId":{"type":"string","format":"uuid"},"codigo":{"type":"string"},"nombre":{"type":"string"},"cantidadVendida":{"type":"integer","format":"int64"},"stockActual":{"type":"integer","format":"int32"}}},"ReporteCuentasDTO":{"type":"object","properties":{"tipo":{"type":"string","enum":["COBRAR","PAGAR"]},"cantidadPendientes":{"type":"integer","format":"int64"},"montoTotalPendiente":{"type":"number"},"cantidadVencidas":{"type":"integer","format":"int64"},"montoTotalVencido":{"type":"number"}}},"PagePagoDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/PagoDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}},"PageCuentaDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CuentaDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}},"PageClienteDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ClienteDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}}},"securitySchemes":{"bearer-jwt":{"type":"http","description":"JWT token authentication","scheme":"bearer","bearerFormat":"JWT"}}}}