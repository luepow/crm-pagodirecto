###############################################################################
# Environment Configuration Template
#
# Copy this file to .env and customize for your environment
# cp .env.example .env
#
# SECURITY WARNING: Never commit .env files to version control!
# Add .env to .gitignore
###############################################################################

###############################################################################
# GENERAL CONFIGURATION
###############################################################################

# Environment: development, staging, production
ENVIRONMENT=development

# Application version
VERSION=1.0.0

# Docker build target: production, development
BUILD_TARGET=production

###############################################################################
# DATABASE CONFIGURATION (PostgreSQL)
###############################################################################

# Database credentials
POSTGRES_DB=pagodirecto_crm
POSTGRES_USER=pagodirecto
POSTGRES_PASSWORD=change_this_password_in_production

# Database connection pool
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# Database performance tuning
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1536MB
POSTGRES_WORK_MEM=16MB
POSTGRES_MAINTENANCE_WORK_MEM=128MB

# Database logging
POSTGRES_LOG_STATEMENT=mod
POSTGRES_LOG_MIN_DURATION=1000

# Database port (host mapping) - PagoDirecto uses 28xxx port scheme
POSTGRES_PORT=28432

###############################################################################
# BACKEND CONFIGURATION (Spring Boot)
###############################################################################

# Spring profiles
# Options: development, production, test
SPRING_PROFILES_ACTIVE=development

# Server port (host mapping) - PagoDirecto uses 28xxx port scheme
BACKEND_PORT=28080

# JWT Configuration
# IMPORTANT: Generate strong random values in production!
# Use: openssl rand -base64 64
JWT_SECRET=your-256-bit-secret-key-change-in-production-use-strong-random-value
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# CORS Configuration - Updated for PagoDirecto port scheme (28xxx)
CORS_ALLOWED_ORIGINS=http://localhost:28000,http://localhost:28888,http://localhost
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# Logging levels
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SECURITY=INFO
LOG_LEVEL_SQL=WARN

# Show SQL in logs (development only)
SHOW_SQL=false

# Gemini AI Configuration
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=

###############################################################################
# FRONTEND CONFIGURATION (React + Vite)
###############################################################################

# Node environment
NODE_ENV=production

# Frontend port (host mapping) - PagoDirecto uses 28xxx port scheme
FRONTEND_PORT=28000

# API URL (backend endpoint) - Updated for PagoDirecto port scheme
VITE_API_URL=http://localhost:28080/api

# Application metadata
VITE_APP_VERSION=1.0.0
VITE_APP_NAME=PagoDirecto CRM/ERP

###############################################################################
# NGINX CONFIGURATION
###############################################################################

# Nginx proxy ports (production profile only) - PagoDirecto uses 28xxx port scheme
NGINX_HTTP_PORT=28888
NGINX_HTTPS_PORT=28443

# Nginx host
NGINX_HOST=localhost

###############################################################################
# ADMINER CONFIGURATION
###############################################################################

# Adminer port (host mapping) - PagoDirecto uses 28xxx port scheme
ADMINER_PORT=28081

###############################################################################
# SECURITY CONFIGURATION
###############################################################################

# Enable SSL/TLS (set to true in production)
SSL_ENABLED=false

# SSL certificate paths (when SSL_ENABLED=true)
SSL_CERT_PATH=./certs/fullchain.pem
SSL_KEY_PATH=./certs/privkey.pem
SSL_CA_PATH=./certs/ca.pem

###############################################################################
# MONITORING & OBSERVABILITY (Optional)
###############################################################################

# Prometheus metrics
METRICS_ENABLED=true

# APM/Tracing (optional)
# APM_SERVER_URL=http://apm-server:8200
# APM_SERVICE_NAME=pagodirecto-crm

###############################################################################
# BACKUP CONFIGURATION
###############################################################################

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

###############################################################################
# DEVELOPMENT TOOLS
###############################################################################

# Hot reload for frontend (development only)
VITE_HMR_ENABLED=true

# Spring DevTools (development only)
SPRING_DEVTOOLS_ENABLED=false

###############################################################################
# RESOURCE LIMITS
###############################################################################

# Uncomment to override default resource limits

# Database
# POSTGRES_CPU_LIMIT=2.0
# POSTGRES_MEMORY_LIMIT=2G

# Backend
# BACKEND_CPU_LIMIT=2.0
# BACKEND_MEMORY_LIMIT=1536M

# Frontend
# FRONTEND_CPU_LIMIT=1.0
# FRONTEND_MEMORY_LIMIT=512M

###############################################################################
# NOTES
#
# 1. Security Best Practices:
#    - Change all default passwords
#    - Generate strong JWT secrets
#    - Use HTTPS in production
#    - Enable SSL for database connections
#    - Implement IP whitelisting
#    - Regular security audits
#
# 2. Production Checklist:
#    - Set ENVIRONMENT=production
#    - Set NODE_ENV=production
#    - Set SPRING_PROFILES_ACTIVE=production
#    - Change all default passwords
#    - Generate new JWT secret
#    - Configure SSL certificates
#    - Disable Adminer or secure it
#    - Set appropriate log levels
#    - Configure backup strategy
#    - Set up monitoring/alerting
#
# 3. Development Tips:
#    - Use .env.development for local development
#    - Enable SQL logging for debugging
#    - Use Adminer for database inspection
#    - Enable hot-reload for faster iteration
#    - Use lower resource limits to save resources
#
# 4. PagoDirecto Port Scheme (28xxx):
#    This project uses a custom port scheme to avoid conflicts with other
#    projects running on the same machine:
#
#    PostgreSQL:      28432  (standard: 5432)
#    Backend API:     28080  (standard: 8080)
#    Frontend Web:    28000  (standard: 3000)
#    Adminer DB UI:   28081  (standard: 8081)
#    Nginx HTTP:      28888  (standard: 80)
#    Nginx HTTPS:     28443  (standard: 443)
#
#    You can run multiple projects simultaneously by using different port
#    schemes (e.g., 38xxx for project 2, 48xxx for project 3).
#
###############################################################################
